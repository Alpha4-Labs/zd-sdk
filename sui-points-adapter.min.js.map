{"version":3,"names":["window","SDK_VERSION","DEFAULT_CONFIG","rpcUrl","packageId","partnerCapId","eventMappings","user_signup","points","cooldown","purchase_completed","newsletter_signup","social_share","profile_completed","referral_successful","allowedOrigins","maxEventsPerHour","enableAutoDetection","enableDebugMode","showNotifications","notificationDuration","customStyles","SuiPointsAdapter","constructor","config","this","eventQueue","rateLimitCache","Map","isInitialized","suiClient","walletAdapter","validateConfig","init","Error","length","currentOrigin","location","origin","includes","log","initializeSuiClient","setupAutoDetection","setupWalletConnection","processEventQueue","dispatchEvent","adapter","error","SuiClient","loadSuiSDK","url","getLatestSuiSystemState","Promise","resolve","reject","script","document","createElement","src","onload","onerror","head","appendChild","suiWallet","sui","accounts","getAccounts","message","detectFormSubmissions","detectButtonClicks","detectPageChanges","setupCustomEventListeners","addEventListener","event","form","target","tagName","eventType","analyzeForm","formData","FormData","metadata","extractFormMetadata","submitEvent","getUserId","formHTML","innerHTML","toLowerCase","formAction","action","formClass","className","formId","id","containsKeywords","element","analyzeClickedElement","extractClickMetadata","combined","textContent","href","currentUrl","checkUrlChange","newUrl","analyzeUrlChange","setInterval","fromUrl","toUrl","toPath","URL","pathname","userId","detail","referralData","checkRateLimit","timestamp","Date","now","eventHash","generateEventHash","queueEvent","success","submitToBlockchain","updateRateLimit","showNotification","eventData","TextEncoder","encode","JSON","stringify","userSignature","tx","arguments","Array","from","data","hashBuffer","crypto","subtle","digest","Uint8Array","map","b","toString","padStart","join","key","eventConfig","has","get","hourlyKey","currentHour","Math","floor","set","hour","count","hourlyData","push","shift","eventsToProcess","sessionStorage","getItem","random","substr","setItem","replace","notification","style","cssText","body","setTimeout","transform","parentNode","removeChild","text","keywords","some","keyword","value","entries","elementType","elementText","slice","elementClass","elementId","eventName","CustomEvent","args","console","trackEvent","connectWallet","requestPermissions","getConfig","updateConfig","newConfig","getStatus","hasWallet","queuedEvents","version","autoInit","querySelector","dataset","split","suiPointsAdapter","readyState"],"sources":["sui-points-adapter.js"],"mappings":"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","ignoreList":[]}